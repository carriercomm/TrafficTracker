
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TrafficTracker</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="iuuso">


    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/traffictracker.default.css" rel="stylesheet">
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet">
    <!-- <link href="assets/css/style.css" rel="stylesheet"> -->

    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
      img.olTileImage { 
        max-width: none; /* This makes openlayers render their maps properly (overrides bootstrap img. max-width) */
    }
    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->

  </head>

<body>

    <!-- Navbar
    ================================================== -->
     <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">

          <a class="brand" href="./index.html">TrafficTracker</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active">
                <a href="./index.html">Home</a>
              </li>
              <li class="">
                <a href="./documentation.html">Documentation</a>
              </li>

            </ul>
          </div>
      </div>
    </div>

    <!-- END Navbar
    ================================================== -->


  <div class="container">


    <!-- BIG header
    ===================================================== -->
     <div class="hero-unit">

      <h1>TrafficTracker</h1>
      <p class="lead">This site is created to show outgoing traffic from your computer. or basicly any platform you can get <a href="http://nodejs.org/">Node.js</a> and <a href="http://www.websocket.org/">WebSockets</a> running. When done, you would see your outgoing traffic in realtime, and located on the map using <strike>Google Maps Api</strike>.
      </p>

      <div class="button-group">
         <a class="btn btn-large btn-success" onclick="connect()" href="#">
          Initialize
          <a class="btn btn-large btn-error" onclick="closeSocket()">Close</a>
          <a class="btn btn-large" onclick="createLogFile()">Logfile</a>


        </a>
      </div> <!-- END Button group -->

    </div>


    <!-- MAP STUFF
    ====================================================== -->
    
    <div class="page-header">
      <h1>Maps <small> // Powered by OpenLayers </small> </h1>
    </div>


    <div id="section" onload="maps()">
      <div id="map">
      </div>
    </div>

    <!-- TABLE STUFF
    ====================================================== -->
    <div class="page-header">
      <h1>Sniff <small> // Powered by tshark + freegeoip </small> </h1>
    </div>

      <div class="accordion" id="accordion2">
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
              Table headers explanation
            </a>
          </div>

          <div id="collapseOne" class="accordion-body collapse">
            <div class="accordion-inner">

              <!-- Content for the first collable -->
                <dl class="dl-horizontal">

                  <dt>Packet #</dt>
                  <dd>Number of the packet where this specific destination IP was first encountered with. Number
                    of the packets depends on your preferences. </dd>

                  <dt>Source</dt>
                  <dd>Ip address of the source. This should be same on each of the rows. If it isn't, check your network settings.</dd>

                  <dt>Destionation</dt>
                  <dd>Destination ip address is the address where you are sending packets to. This table shouldn't display any duplicate or empty destination IP's, because they are filtered before adding to the table. Reserved addresses are still displayed though.</dd>

                  <dt>Location</dt>
                  <dd>Location service is provided by <a href="http://freegeoip.net/" target="_blank">Freegeoip</a>. The coordinates, city and country of the destination IP address are being fetched from the Freegeoip database.</dd>

                  <dt>Latitude/Longitude</dt>
                  <dd>Latitude and longitude (aka. coordinates) of the specific destination address. This data is also provided by aforementioned Freegeoip.</dd>
                
                </dl>
              <!-- // End for the first collabse -->

            </div>
          </div>

        </div>
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
              Sniff output table
            </a> 
          </div>
          <div id="collapseTwo" class="accordion-body collapse">
            <div class="accordion-inner">

              <div id="tableStatus">
              </div>

              <!-- -->
                <table id="outputTable" class="table table-hover table-bordered table-condensed">

                    <thead> <!-- Headers for table -->
                      <tr>
                        <th width="10%">Packet #</th>
                        <th width="15%">Source</th>
                        <th width="15%">Destination</th>
                        <th width="30%">Location</th>
                        <th width="15%">Latitude</th>
                        <th width="15%">Longitude</th>
                        
                      </tr>
                    </thead> <!-- End of headers -->

              </table>
            </div>
          </div>
        </div>

        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree">
              Logfile
            </a>
          </div>

          <div id="collapseThree" class="accordion-body collapse">
            <div class="accordion-inner">

              <pre> Here should be displayed the logfile created after the sniffing has been done.
                <a href="http://www.htmlgoodies.com/beyond/javascript/read-text-files-using-the-javascript-filereader.html" target="_blank">Some help, maybe?</a>
              </pre>

            </div>
          </div>

        </div>


      </div> <!-- END Accordion-->

    <div class="page-header">
      <h1>Issues <small> // Ongoing issues and problems </small> </h1>
    </div>

      <p><strike>There is a implementation problem with the OpenLayers. There is a problem with the loop that adds the markers to the map. For some reason, it doesnt't go through thearray the way it should be.</strike></p>

      <p><strong>24.6.2013 - DNS recognition disabled: </strong>Decided to disable DNS recognition, it doesn't work properly from the tshark. Maybe adding another external service to provide that?</p>



    </div><!-- /container -->

    <!-- Le javascript
    ================================================== -->

    <!-- jQuery, required be bootstrap-->
    <script src="http://code.jquery.com/jquery-1.10.0.min.js"></script>

    <!-- Bootstrap-->
    <script src="/assets/js/bootstrap.js"></script>

    <!-- TrafficTrackers basic functionalitites -->
     <script src="assets/js/traffictracker.default.js"></script>

    <!-- OpenLayers - map canvas -->
    <script src="http://openlayers.org/api/OpenLayers.js"></script>
    <script src="/assets/js/openlayer.map.js"></script>
    
    <!-- J50n - Credits to Roberto Decurnex : http://robertodecurnex.github.io/J50Npi/-->
    <script src="/assets/js/J50Npi.js"></script>

  </body>
</html>