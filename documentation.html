<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TrafficTracker - Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/bootstrap/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../assets/ico/favicon.png">
  </head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar">


    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-fixed-top" id="navbar">
      <div class="navbar-inner">

          <a class="brand" href="./index.html">TrafficTracker</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="index.html">Home</a></li>
              <li class="active"><a href="">Documentation</a></li>
            </ul>
          </div><!--/.nav-collapse -->

      </div>
    </div>

    <div class="container">

    <!-- Docs nav
    ================================================== -->

   <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li><a href="#about"><i class="icon-chevron-right"></i> About</a></li>
          <li><a href="#dependencies"><i class="icon-chevron-right"></i> Dependencies</a></li>
          <li><a href="#installation"><i class="icon-chevron-right"></i> Installation</a></li>
          <li><a href="#development"><i class="icon-chevron-right"></i> Development</a></li>
          <li><a href="#howtouse"><i class="icon-chevron-right"></i> How-to-use</a></li>
          <li><a href="#notes"><i class="icon-chevron-right"></i> Notes</a></li>
        </ul>
      </div>

      <div class="span9">


        <div class="page-header">
          <h1>Traffictracker <small>Documentation</small></h1>
        </div>


    <!-- About
    ================================================== -->
    <section id="about">
      <div class="page-header">
         <h1>About</h1>
       </div>

       <p>TrafficTracker is a web application tool showing user the packet traffic from his localhost to different locations. It is running on top of Node.js and requires WebSockets and it uses tshark as a packet sniffing tool. Basicly TrafficTracker is a limited front-end for tshark but with added features.
       </p>

      <h2>Function</h2>

      <p>TrafficTracker was originally meant to be built on top of <a href="http://pfsense.org/" target="_blank">pfSense</a>. TrafficTracker would have been an added functionality on that awesome firewall-distro. After some time thinking, testing and planning I decided to ditch the idea of running TrafficTracker on top of pfSense. The development and implementation for that would have been unnecessary difficult, concerning the fact that pfSense has <a href="http://doc.pfsense.org/index.php/Can_I_use_FreeBSD_ports_with_pfSense%3F" target="_blank">disabled the default ports installation process</a>, and the idea of installing several different applications on a firewall sounded a bit ludicrous. Firewalls are, built to be fast, reliable and sleek, and adding many different services running on the background would also have been a security risk.</p>

      <p><small>psst. Although, theres nothing that comes to mind that would make installing TrafficTracker on a firewall impossible. It should be possible, if you know what you are doing and most importantly, WHY you are doing it. </small></p>

      <p>TrafficTracker runs on top of Node. Node makes event-based communication with the web-page possible, and therefore the usage of websockets is possible. There was consideration to run TrafficTracker on top of Apache, but that would have killed the idea of (1) using websockets and (2) hence it's based on php, event-based functionalities and realtime output would have been much more difficult. Node is also much lighter than i.e. Apache.</p>

      <p>Tracking request is basicly a system command run through websockets to the server (that's the reason why you have to run Node server locally). </p>

      <h2>Reliability</h2>
      <p>TrafficTracker is not a precise tool. For instance, Freegeoip requests and Google Maps requests are done usign networking, so basicly data changes accordingly.</p>

      </p>

    <!-- Dependencies
    ================================================== -->
    <section id="dependencies">
      <div class="page-header">
         <h1>Dependencies</h1>
       </div>

      <p>TrafficTracker uses several different services in initialization. Here is listed those services and notes about their services.</p>

      <h2>Google Maps</h2>
        <p><strike>This site uses Google Maps as canvas for the map.</strike>. This site uses OpenLayers. </p>

      <h3>Issues</h3>
        <p>From <a href="https://developers.google.com/maps/documentation/javascript/usage" target="_blank">Google Developers</a>:</p>
        <blockquote>For-profit web sites are permitted to generate up to 25â€‰000 map loads per day using the Google Maps JavaScript API v3. A map load is counted when a map is initialized on a web page. User interaction with a map after it has loaded (eg. panning the map, zooming the map, or changing from roadmap to satellite map) does not have any impact on usage limits.</blockquote>
        <p>Therefore the Maps itself has said 25 000 limit on map initialization. However, this is from <a href="https://developers.google.com/maps/documentation/geocoding/" target="_blank">Google Developers site concerning geocoding</a>.</p>
        <blockquote>Use of the Google Geocoding API is subject to a query limit of 2,500 geolocation requests per day. (User of Google Maps API for Business may perform up to 100,000 requests per day.) This limit is enforced to prevent abuse and/or repurposing of the Geocoding API, and this limit may be changed in the future without notice. Additionally, we enforce a request rate limit to prevent abuse of the service. If you exceed the 24-hour limit or otherwise abuse the service, the Geocoding API may stop working for you temporarily. If you continue to exceed this limit, your access to the Geocoding API may be blocked.</blockquote>
        <p>TrafficTracker has in default limited the amount of packages and locations you can track, but it is possible to change amount of packages. Therefore the location points increase, but it doesn't effect the quota limitations. Maps are initialized when the application is launched, and thus the only thing effecting is the repeation of loading the application.</p>

        <p>The usage of Google Maps is tracked with API key. At default TrafficTracker uses my personal API key, and thus it's preferred to change the API key to your personal one if you indent to use this app more frequently. <a href="https://developers.google.com/maps/documentation/javascript/tutorial#api_key" target="_blank">Obtain an API key</a>

      <h2>jQuery</h2>
        <p>Bootstap needs jQuery to function properly, see more in <a href="http://twitter.github.io/bootstrap/javascript.html" target="_blank">here</a>. jQuery is loaded from the  <a href="http://code.jquery.com/" target="_blank">jQuery website</a>, and therefore is strictly dependant on their services. 

      <h2>Node.js</h2>
        <p>TrafficTracker runs on top <a href="http://nodejs.org/" target="_blank">Node.js</a> for event-based requirements. It makes synchronous functionability possible with the help of <a href="http://www.websocket.org/" target="_blank">WebSockets</a>. </p>

        <h3>Node.js libraries</h3>

        <p>TrafficTracker packet contains server file for Node. To use it, use this command in your working directory to start the server:</p>
        <code>node server.js</code>

        <p>Your terminal should issue:</p>
        <code>Server listening port 8080</code>

        <p>There are also requirements for the Node.js to work properly. See more in the <a href="">installation section</a>.</p>

      <h2>tshark</h2>
        <p>From <a href="http://www.wireshark.org/docs/man-pages/tshark.html" target="_blank">tshark's website</a> : </p>
        <blockquote>TShark is a network protocol analyzer. It lets you capture packet data from a live network, or read packets from a previously saved capture file, either printing a decoded form of those packets to the standard output or writing the packets to a file. TShark's native capture file format is libpcap format, which is also the format used by tcpdump and various other tools.</blockquote>

      <h2>Freegeoip</h2>
        <p><a href="http://freegeoip.net/" target="_blank">Freegeoip</a> is an online service for geolocating IP addresses. It's basicly just an online database, from where you can download geolocation data based on your ip address. Freegeoip supports JSON, and that makes it easy to fetch several different IP-addresses from the database.</p>

        <p>Freeg



    <!-- Development
    ================================================== -->
    <section id="development">
      <div class="page-header">
         <h1>Development</h1>
       </div>

       <p>Development has been interesting. What started out as a idea has transformed greatly during the recent weeks. The basic idea is still the same, which is locate your connection points and traffic on the map, but the platform and functionalities have changed.</p>

        <p>Truly real-time functionality seems to be a problem. Tshark is at the moment the biggest <i>bottleneck</i>, and the way it implements its output is a problem. Instead of implementing output one line at a time, it prints after its buffer is full (i think). That means that if there is no limitations on packet count, it would output in bursts, something like 200 lines at a time. <strong> NOTE: </strong> Output issue could be something that is Node.js:s fault.<strong> Check the libraries server.js has; are they implemented properly? Also, test Traffictracker with some other traffic sniffer, i.e. tcpdump and check whether it has any effect on it.</strong> </p>

       <h2>Security concerns</h2>
       <p>This application have been designed to "perform as a security enhancing application", in a sense that user would have information about his/her connection points. Although there are limitations, and this isn't going to be "ultimate tool" for this job, I hope that someone would find this useful.</p>

       <p>Using this kind of application (websockets without SSL/TLS (yet)) with this kind of implementation (local Node.js server) could increase the risk of exploiting your system to the outside. The Google services uses SSL, which makes it more reliable security-wise.</p>

       <p><a href="#freegeoip">Freegeoip</a> doesn't use or provide SSL-tunneling for their service, atleast for now. If there is a need for greater security Freegeoip could be turned down. Instead, one could use <a href="http://whatismyipaddress.com/geolocation-providers" target="_blank">alternate services</a>, but be prepared to modify TrafficTracker for different geolocation implementation. There is also a possibility for downloading a database on your server and using the geolocation locally. That would require some modifications too, i guess. </p>



    <!-- Installation
    ================================================== -->
    <section id="installation">
      <div class="page-header">
         <h1>Installation</h1>
       </div>

       <p>Here shall be step-by-step instructions how to install TrafficTracker on different platforms.</p>

       <h2>Windows</h2>

       <ul>

          <li>Powershell, or is regular windows terminal sufficient?</li>
          <li>On what versions does it work properly, which are tested and which are not? (XP/Vista/7(8)</li>

        </ul>

       <h2>Linux</h2>

       <ul>

        <li>Linux/unix? On what versions or distros does this tutorial apply?</li>

      </ul>

       <h2>Mac OS X</h2>


    <!-- How-to-use
    ================================================== -->
    <section id="howtouse">
      <div class="page-header">
         <h1>How-to-use</h1>
       </div>

       <p>TrafficTracker's usage should be quite straight forward without extra hazzle. After you have managed to get it running, there are couple of things you have to do before you can be sure that the system is working properly.</p>

    <!-- Notes
    ================================================== -->
    <section id="notes">
      <div class="page-header">
         <h1>Notes</h1>
       </div>

       <p>Could TrafficTracker be implemented as a bootable application, running on top of i.e. Debian? </p>



    </div> 
  </div>

</div>


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/assets/js/bootstrap.js"></script>


  </body>
</html>
